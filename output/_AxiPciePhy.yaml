##############################################################################
## This file is part of 'SLAC Firmware Standard Library'.
## It is subject to the license terms in the LICENSE.txt file found in the 
## top-level directory of this distribution and at: 
##    https://confluence.slac.stanford.edu/display/ppareg/LICENSE.html. 
## No part of 'SLAC Firmware Standard Library', including this file, 
## may be copied, modified, propagated, or distributed except according to 
## the terms contained in the LICENSE.txt file. 
############################################################################## 
#schemaversion 3.0.0 
#once _AxiPciePhy.yaml 


AxiPciePhy: &AxiPciePhy
  description: AXI-Lite monitoring for AXI Bridge for PCI Express (Refer to PG055
    and PG194)
  configPrio: 1
  class: MMIODev
  size: 0x8
  ##########
  children:
  ##########
    ################################################################################
    PcieConfigHdr:
      at:
        offset: 0x0
        byteOrder: BE
        nelms: 2
      description: PCIe Configuration Space Header
      class: IntField
      sizeBits: 32
      mode: RO
    ################################################################################
    Gen2Capable:
      at:
        offset: 0x130
        byteOrder: BE
      description: If set, underlying integrated block supports PCIe Gen2 speed.
      class: IntField
      sizeBits: 8
      mode: RO
    ################################################################################
    Gen3Capable:
      at:
        offset: 0x130
        byteOrder: BE
      description: If set, underlying integrated block supports PCIe Gen3 speed.
      class: IntField
      sizeBits: 8
      lsBit: 3
      mode: RO
    ################################################################################
    RootPortPresent:
      at:
        offset: 0x130
        byteOrder: BE
      description: Indicates the underlying integrated block is a Root Port when this
        bit is set. If set, Root Port registers are present in this interface.
      class: IntField
      sizeBits: 8
      lsBit: 1
      mode: RO
    ################################################################################
    UpConfigCapable:
      at:
        offset: 0x130
        byteOrder: BE
      description: Indicates the underlying integrated block is upconfig capable when
        this bit is set.
      class: IntField
      sizeBits: 8
      lsBit: 2
      mode: RO
    ################################################################################
    LinkRateGen2:
      at:
        offset: 0x144
        byteOrder: BE
      description: 0b = 2.5 GT/s (if bit[12] = 0), or 8.0GT/s (if bit[12] = 1), 1b
        = 5.0 GT/s
      class: IntField
      sizeBits: 8
      mode: RO
    ################################################################################
    LinkRateGen3:
      at:
        offset: 0x144
        byteOrder: BE
      description: Reports the current link rate. 0b = see bit[0]. 1b = 8.0 GT/s
      class: IntField
      sizeBits: 16
      lsBit: 4
      mode: RO
    ################################################################################
    LinkWidth:
      at:
        offset: 0x144
        byteOrder: BE
      description: Reports the current link width. 00b = x1, 01b = x2, 10b = x4, 11b
        = x8.
      class: IntField
      sizeBits: 8
      lsBit: 1
      mode: RO
    ################################################################################
    LinkWidth16:
      at:
        offset: 0x144
        byteOrder: BE
      description: Reports the current link width. 0b = See bit[2:1]. 1b = x16.
      class: IntField
      sizeBits: 16
      lsBit: 5
      mode: RO
    ################################################################################
